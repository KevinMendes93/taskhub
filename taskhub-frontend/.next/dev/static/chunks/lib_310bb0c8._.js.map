{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/taskhub/taskhub-frontend/lib/api/client.ts"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor - Adiciona token JWT automaticamente\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor - Logout automático em 401\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      \n      if (typeof window !== 'undefined') {\n        window.location.href = '/auth/login';\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,6DAAmC;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,2DAA2D;AAC3D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,kDAAkD;AAClD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QAExB,wCAAmC;YACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/taskhub/taskhub-frontend/lib/api/auth.ts"],"sourcesContent":["import api from './client';\nimport { LoginDto, LoginResponse, CreateAccountDto } from '../types';\n\nexport const authService = {\n  async login(credentials: LoginDto): Promise<LoginResponse> {\n    const response = await api.post<LoginResponse>('/auth/login', credentials);\n    return response.data;\n  },\n\n  async register(data: CreateAccountDto): Promise<LoginResponse> {\n    const response = await api.post<LoginResponse>('/auth/register', data);\n    return response.data;\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,cAAc;IACzB,MAAM,OAAM,WAAqB;QAC/B,MAAM,WAAW,MAAM,kIAAG,CAAC,IAAI,CAAgB,eAAe;QAC9D,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM,UAAS,IAAsB;QACnC,MAAM,WAAW,MAAM,kIAAG,CAAC,IAAI,CAAgB,kBAAkB;QACjE,OAAO,SAAS,IAAI;IACtB;AACF"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/taskhub/taskhub-frontend/lib/contexts/auth-context.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { jwtDecode } from 'jwt-decode';\nimport { authService } from '../api/auth';\nimport { AuthContextType, JwtPayload, LoginDto, CreateAccountDto, Role } from '../types';\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const router = useRouter();\n  const [user, setUser] = useState<JwtPayload | null>(null);\n  const [token, setToken] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Restaura sessão ao carregar app\n  useEffect(() => {\n    const savedToken = localStorage.getItem('token');\n    const savedUser = localStorage.getItem('user');\n\n    if (savedToken && savedUser) {\n      setToken(savedToken);\n      setUser(JSON.parse(savedUser));\n    }\n\n    setIsLoading(false);\n  }, []);\n\n  const login = async (credentials: LoginDto) => {\n    const response = await authService.login(credentials);\n    const decoded = jwtDecode<JwtPayload>(response.access_token);\n\n    localStorage.setItem('token', response.access_token);\n    localStorage.setItem('user', JSON.stringify(decoded));\n\n    setToken(response.access_token);\n    setUser(decoded);\n\n    router.push('/dashboard');\n  };\n\n  const register = async (data: CreateAccountDto) => {\n    const response = await authService.register(data);\n    const decoded = jwtDecode<JwtPayload>(response.access_token);\n\n    localStorage.setItem('token', response.access_token);\n    localStorage.setItem('user', JSON.stringify(decoded));\n\n    setToken(response.access_token);\n    setUser(decoded);\n\n    router.push('/dashboard');\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n\n    setToken(null);\n    setUser(null);\n\n    router.push('/auth/login');\n  };\n\n  const hasRole = (role: Role): boolean => {\n    if (!user) return false;\n    return user.roles.includes(role);\n  };\n\n  const value: AuthContextType = {\n    user,\n    token,\n    isAuthenticated: !!token,\n    isLoading,\n    login,\n    register,\n    logout,\n    hasRole,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuth must be used within AuthProvider');\n  }\n\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAoB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,kCAAkC;IAClC,IAAA,0KAAS;kCAAC;YACR,MAAM,aAAa,aAAa,OAAO,CAAC;YACxC,MAAM,YAAY,aAAa,OAAO,CAAC;YAEvC,IAAI,cAAc,WAAW;gBAC3B,SAAS;gBACT,QAAQ,KAAK,KAAK,CAAC;YACrB;YAEA,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,MAAM,WAAW,MAAM,oIAAW,CAAC,KAAK,CAAC;QACzC,MAAM,UAAU,IAAA,sKAAS,EAAa,SAAS,YAAY;QAE3D,aAAa,OAAO,CAAC,SAAS,SAAS,YAAY;QACnD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAE5C,SAAS,SAAS,YAAY;QAC9B,QAAQ;QAER,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,WAAW,OAAO;QACtB,MAAM,WAAW,MAAM,oIAAW,CAAC,QAAQ,CAAC;QAC5C,MAAM,UAAU,IAAA,sKAAS,EAAa,SAAS,YAAY;QAE3D,aAAa,OAAO,CAAC,SAAS,SAAS,YAAY;QACnD,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAE5C,SAAS,SAAS,YAAY;QAC9B,QAAQ;QAER,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QAExB,SAAS;QACT,QAAQ;QAER,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,UAAU,CAAC;QACf,IAAI,CAAC,MAAM,OAAO;QAClB,OAAO,KAAK,KAAK,CAAC,QAAQ,CAAC;IAC7B;IAEA,MAAM,QAAyB;QAC7B;QACA;QACA,iBAAiB,CAAC,CAAC;QACnB;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAxEgB;;QACC,kJAAS;;;KADV;AA0ET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAE3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;IARgB"}}]
}